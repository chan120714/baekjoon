# [Platinum I] 우표 구매하기 (Hard) - 13542 

[문제 링크](https://www.acmicpc.net/problem/13542) 

### 성능 요약

메모리: 80880 KB, 시간: 608 ms

### 분류

수학, 정수론, 조합론, 생성 함수, 뤼카 정리

### 제출 일자

2026년 1월 14일 01:04:51

### 문제 설명

<p>Little Peter is collecting stamps. Recently, he went shopping with his mother Lucia and guess what: As they were going around the post office, he started to blackmail his mom, as only the little boys can. At the post office, they were selling N different types of one-dollar stamps and M different types of two-dollar stamps.</p>

<p>Peter got exactly K dollars from his mom, and he wants to spend all of them on stamps. Note that he can buy more stamps of the same type. You may assume that the post office has an infinite stock of each type of stamp.</p>

<p>Now, Peter is wondering in how many ways he can buy the stamps.</p>

<p>Given are the integers N, M, K, and a prime number P.</p>

<p>Your task is to compute the value Z mod P, where Z is the (possibly huge) number of ways in which Peter can spend all K dollars on stamps.</p>

### 입력 

 <p>Single line containing the integers N, M, K, and P. You may assume that 3 ≤ P ≤ 1000000, 0 ≤ N,M ≤ 300 and 1 ≤ K ≤ 1000000000000 = 10<sup>12</sup>.</p>

### 출력 

 <p>Output a single line with a single integer: The number of different ways to buy stamps, modulo P.</p>

