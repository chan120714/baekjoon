# [Platinum V] 아린과 슬롯머신 - 20958 

[문제 링크](https://www.acmicpc.net/problem/20958) 

### 성능 요약

메모리: 258052 KB, 시간: 2436 ms

### 분류

수학, 그리디 알고리즘, 정수론, 소수 판정, 소인수분해

### 제출 일자

2025년 10월 10일 15:07:45

### 문제 설명

<p>아린은 강원랜드로 휴가를 떠났다(아린은 감염병 예방을 위한 정부의 방역지침을 준수한다). 강원랜드에서 가장 인기 있는 게임은 슬롯머신이다. 슬롯머신을 구경하던 아린은 놀라 자빠질 수밖에 없었다. 잭팟이 터질 경우 거액의 당첨금을 받을 수 있다는 정보를 입수하였기 때문이다. 아린은 잭팟을 터트려 집도 사고 차도 사고 맛있는 것도 많이 먹기로 결심하였다.</p>

<p>아린은 칸의 개수가 N개인 슬롯머신을 가지고 있다. 슬롯머신의 레버를 당길 때마다 각 칸에는 임의의 양의 정수가 표시된다. 이때 모든 칸에 7이 표시되면 잭팟이 터졌다고 하며, 잭팟이 터지면 거액의 당첨금이 지급된다.</p>

<p>하지만 슬롯머신을 작동시키기 위해서는 돈이 필요하다. 검소하기로 유명한 아린은 슬롯머신 따위에 돈을 낭비하지 않는다. 슬롯머신을 작동시키는 대신, 아린은 슬롯머신의 각 칸에 대하여 다음과 같은 연산을 무한히 수행할 수 있다. 구간 [i, i + M)과 7이 아닌 소수 p를 선택한다. 그리고 구간에 속하는 수 중 p로 나누어떨어지는 모든 수를 p로 나눈다. 즉, S<sub>i</sub>, S<sub>i+1</sub>, ..., S<sub>i+M-1</sub> 중 p로 나누어떨어지는 모든 수를 p로 나눈다. (1 ≤ i ≤ N - M + 1, p ≠ 7)</p>

<p>슬롯머신의 상태가 주어졌을 때, 잭팟을 터트리기 위하여, 즉 모든 수를 7로 바꾸는 데 필요한 최소 연산 횟수를 구하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫 번째 줄에 슬롯머신의 칸의 개수 N과 구간의 길이 M이 주어진다.</p>

<p>두 번째 줄에 슬롯머신의 각 칸에 표시된 N개의 정수 S<sub>1</sub>, S<sub>2</sub>, ..., S<sub>N</sub>이 주어진다.</p>

<p>모든 입력은 공백으로 구분되어 주어진다.</p>

### 출력 

 <p>첫 번째 줄에 잭팟을 터트리기 위하여 필요한 최소 연산 횟수를 출력한다. 모든 수를 7로 바꿀 수 없다면 -1을 출력한다.</p>

