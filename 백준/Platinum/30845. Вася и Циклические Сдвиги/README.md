# [Platinum V] Вася и Циклические Сдвиги - 30845 

[문제 링크](https://www.acmicpc.net/problem/30845) 

### 성능 요약

메모리: 439792 KB, 시간: 1952 ms

### 분류

문자열, KMP

### 제출 일자

2025년 10월 30일 01:27:52

### 문제 설명

<p>Однажды Василий проголодался и пошел на кухню подкрепиться. Но каково было его удивление, когда, открыв холодильник, он обнаружил там не привычные продукты, а строку! Причем не просто строку, а зацикленную, прямо как бублик (ассоциации с едой часто приходят Васе в голову, когда он голоден). Загадочная строка заинтересовала любопытного, но все еще голодного Василия, и он начал ее вертеть в руках. Например, если вертеть строку <code>abacaba</code>, то можно получить следующие строки:</p>

<ul>
	<li><code>abacaba</code></li>
	<li><code>bacabaa</code></li>
	<li><code>acabaab</code></li>
	<li><code>cabaaba</code></li>
	<li><code>abaabac</code></li>
	<li><code>baabaca</code></li>
	<li><code>aabacab</code></li>
</ul>

<p>И тут Василия осенило: если он сможет посчитать, сколько раз в процессе кручения строки получается лексикографически минимальная строка, то еда магическим образом появится в холодильнике (странные идеи часто приходят Васе в голову, когда он голоден). Помогите Васе, иначе он так и будет сидеть голодным.</p>

<p>Более формально, вам дана строка. Циклическим сдвигом строки s длины n называется строка, полученнная из исходной путем отбрасывания первых 0 ⩽ k < n символов и приписывания их в конец. Необходимо посчитать, сколько раз среди всех циклических сдвигов строки встречается лексикографически минимальный циклический сдвиг.</p>

### 입력 

 <p>Единственная строка входного файла содержит строку S, найденную Василием. Она непуста, состоит из маленьких латинских букв, и её длина не превосходит 10 000 000.</p>

### 출력 

 <p>Выведите единственное число — искомое количество минимальных циклических сдвигов.</p>

